--- 
layout: post
title: Little 'ruby' photo organizer
---



<div class="outline-text-2" id="text-1">


<p>
Place this script in a folder full of pictures, run it, and it will
organize the pictures into folders by the day they were taken.
</p>



<pre class="example">$ ruby photo_organizer.rb
</pre>



<p>
Code:
</p>


<pre class="src src-Javascript">#photo_organizer.rb
require 'fileutils'

def fileShortDate(fich)    
  dt = File.mtime(fich)
  dt.strftime(<span style="color: #8b2252;">"%Y%m%d"</span>)
end

def isImagem(fich)
    File.extname(fich).upcase == <span style="color: #8b2252;">".JPG"</span> or File.extname(fich).upcase == <span style="color: #8b2252;">".PNG"</span> or 
    File.extname(fich).upcase == <span style="color: #8b2252;">".AVI"</span> or File.extname(fich).upcase == <span style="color: #8b2252;">".WAV"</span>
end

print <span style="color: #8b2252;">"Creating dirs "</span>
Dir.foreach(<span style="color: #8b2252;">"."</span>) { |x|  Dir.mkdir(fileShortDate(x)) and print(<span style="color: #8b2252;">"."</span>) if (isImagem(x)) unless File.directory?(fileShortDate(x)) }

print <span style="color: #8b2252;">"\nCopying pics "</span>
Dir.foreach(<span style="color: #8b2252;">"."</span>) { |x| FileUtils.mv(x, fileShortDate(x)+'/'+x) and print(<span style="color: #8b2252;">"."</span>) if (isImagem(x)) }
</pre>



</div>
